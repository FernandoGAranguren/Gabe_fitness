<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gabe Fitness by Capstone</title>
    <meta name="theme-color" content="#22266a" />
    <link rel="manifest" href="manifest.json" />
    <link rel="icon" href="favicon.png" type="image/png" />
    <link rel="apple-touch-icon" href="icons/icon-192.png" />
    <link rel="stylesheet" href="styles.css" />
  </head>

  <body class="dark">
    <!-- ğŸŒ… SPLASH -->
    <div id="splash">
      <img src="icons/icon-192.png" alt="Capstone Icon" class="splash-icon" />
      <h1 class="splash-title">Gabe Fitness by Capstone</h1>
      <p class="splash-verse">
        â€œYHWH es mi fortaleza y mi escudoâ€ â€” Salmo 28:7
      </p>
      <p class="splash-loading">Cargandoâ€¦</p>
    </div>

    <!-- ğŸ§­ HEADER -->
    <header class="app-header">
      <div class="brand-left">
        <img src="icons/icon-192.png" alt="Capstone Icon" class="brand-icon" />
        <div class="brand-text">
          <h1>Gabe Fitness by Capstone</h1>
          <p class="tagline">Powered by Capstone â€” Built for Progress</p>
        </div>
      </div>
      <button id="themeToggle" class="icon-btn" aria-label="Toggle theme">
        ğŸŒ™
      </button>
    </header>

    <!-- âš¡ MAIN BUTTONS -->
    <section class="buttons">
      <button onclick="startWorkout()">ğŸ‹ï¸ Start Workout</button>
      <button onclick="logMeal()">ğŸ Log Meal</button>
      <button onclick="scrollToHydration()">ğŸ’§ Hydration</button>
      <button onclick="showDashboard()">ğŸ“ˆ Progress</button>
      <button onclick="showCoach()">ğŸ§  Coach</button>
    </section>

    <!-- â± TIMER -->
    <section class="card">
      <h3>â± Rest Timer</h3>
      <div id="timer" class="timer">00:00</div>
      <button id="timerBtn" onclick="toggleTimer()">â–¶ï¸ Start</button>
    </section>

    <!-- ğŸ’§ HYDRATION -->
    <section class="card">
      <h3>ğŸ’§ Daily Hydration</h3>
      <p id="hydration">0 / 8 cups</p>
      <div class="progress-container"><div id="progress-bar"></div></div>
      <p id="streak">ğŸ”¥ Current Streak: 0 days</p>
      <p id="best-streak">ğŸ… Best Streak: 0 days</p>
      <button onclick="addCup()">Add Cup</button>
    </section>

    <!-- ğŸµ MUSIC -->
    <section class="card spotify">
      <h3>ğŸµ Workout Music</h3>
      <p>Stay motivated â€” your beats are ready!</p>
      <div class="music-controls">
        <button onclick="toggleSpotify()">ğŸ§ Show / Hide Spotify</button>
        <button onclick="openSpotify()">ğŸŒ Open Spotify</button>
      </div>
      <div id="spotify-player" class="hidden">
        <iframe
          style="border-radius: 12px"
          src="https://open.spotify.com/embed/playlist/37i9dQZF1DX70RN3TfWWJh"
          width="100%"
          height="80"
          frameborder="0"
          allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"
          loading="lazy"
        ></iframe>
      </div>
    </section>

    <!-- ğŸ§  COACH -->
    <section class="card hidden" id="coach-card">
      <h3>ğŸ§  Coach Insights</h3>
      <p id="coach-week"></p>
      <p id="coach-level"></p>
      <div id="coach-progress-container">
        <div id="coach-progress-bar"></div>
      </div>
      <p id="coach-completion"></p>
      <p id="coach-hydration"></p>
      <p id="coach-message"></p>
      <p id="coach-next"></p>
    </section>

    <!-- ğŸ‹ï¸ WORKOUT OVERLAY -->
    <div id="workout-overlay" class="hidden">
      <div class="workout-header">
        <h2 id="workout-day">DAY</h2>
        <p id="workout-phase">PHASE</p>
        <p id="workout-date"></p>
        <div class="progress-bar-container">
          <div id="workout-progress-bar"></div>
        </div>
        <button onclick="closeWorkout()" class="close-btn">âœ–</button>
      </div>
      <div id="workout-list" class="workout-body"></div>
      <div id="quote-box" class="hidden"></div>
    </div>

    <!-- ğŸ‰ CONFETTI -->
    <canvas id="confetti-canvas"></canvas>
    <div id="congrats-msg">ğŸ‰ Workout Completed!</div>

    <footer>Built with purpose âœ¦ Gabe Fitness by Capstone</footer>

    <script>
      window.addEventListener("load", () => {
        setTimeout(
          () => document.getElementById("splash").classList.add("hide"),
          3000
        );
      });
      if ("serviceWorker" in navigator) {
        navigator.serviceWorker.register("service-worker.js").catch(() => {});
      }
    </script>
    <script src="script.js"></script>
  </body>
</html>
